[gd_scene load_steps=7 format=2]

[ext_resource path="res://PlayerInventory.gd" type="Script" id=1]
[ext_resource path="res://EquipmentSlotControl.tscn" type="PackedScene" id=2]
[ext_resource path="res://InventoryList.tscn" type="PackedScene" id=3]
[ext_resource path="res://ItemTooltip.tscn" type="PackedScene" id=4]
[ext_resource path="res://InventoryTabs.tres" type="ButtonGroup" id=5]
[ext_resource path="res://ItemModControl.tscn" type="PackedScene" id=6]

[node name="PlayerInventory" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 12.0
margin_top = 12.0
margin_right = -12.0
margin_bottom = -12.0
mouse_filter = 1
script = ExtResource( 1 )

[node name="EquipmentSlots" type="GridContainer" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -115.0
margin_top = 80.0
margin_right = 115.0
margin_bottom = 222.0
custom_constants/vseparation = 60
custom_constants/hseparation = 60
columns = 4
__meta__ = {
"_edit_group_": true
}

[node name="WeaponSlot" parent="EquipmentSlots" instance=ExtResource( 2 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 0.0
margin_bottom = 0.0
type = "weapon"

[node name="ArmorSlot" parent="EquipmentSlots" instance=ExtResource( 2 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 60.0
margin_right = 60.0
margin_bottom = 0.0
type = "armor"

[node name="FootwearSlot" parent="EquipmentSlots" instance=ExtResource( 2 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 120.0
margin_right = 120.0
margin_bottom = 0.0
type = "shoes"

[node name="AmuletSlot" parent="EquipmentSlots" instance=ExtResource( 2 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 180.0
margin_right = 180.0
margin_bottom = 0.0
type = "amulet"

[node name="ItemList" parent="." instance=ExtResource( 3 )]

[node name="ItemSelected" parent="." instance=ExtResource( 4 )]
margin_left = -178.0
margin_top = 66.0
margin_right = 2.0
margin_bottom = 456.0

[node name="Stats" parent="ItemSelected" index="2"]
margin_bottom = 282.0

[node name="EquipButton" type="Button" parent="ItemSelected"]
margin_left = 10.0
margin_top = 292.0
margin_right = 170.0
margin_bottom = 332.0
text = "Equip Item"

[node name="ModButton" type="Button" parent="ItemSelected"]
margin_left = 10.0
margin_top = 342.0
margin_right = 170.0
margin_bottom = 382.0
text = "Modify Item"

[node name="UnequipButton" type="Button" parent="ItemSelected"]
margin_left = 10.0
margin_top = 292.0
margin_right = 170.0
margin_bottom = 332.0
text = "Unequip"

[node name="WeaponFilter" type="Button" parent="."]
margin_top = 8.0
margin_right = 108.0
margin_bottom = 46.0
toggle_mode = true
group = ExtResource( 5 )
text = "Weapons"

[node name="GemFilter" type="Button" parent="."]
margin_left = 118.0
margin_top = 8.0
margin_right = 228.0
margin_bottom = 46.0
toggle_mode = true
group = ExtResource( 5 )
text = "Gems"

[node name="ModifyPopup" type="PopupPanel" parent="."]
margin_left = -12.0
margin_top = -12.0
margin_right = 708.0
margin_bottom = 468.0

[node name="ItemMods" parent="ModifyPopup" instance=ExtResource( 6 )]
margin_left = 4.0
margin_top = 4.0
margin_right = -4.0
margin_bottom = -4.0

[node name="CloseModify" type="Button" parent="ModifyPopup/ItemMods"]
margin_left = 532.0
margin_top = 396.0
margin_right = 696.0
margin_bottom = 446.0
text = "Done Modifying"

[connection signal="slot_selected" from="EquipmentSlots/WeaponSlot" to="." method="_on_equipment_slot_selected"]
[connection signal="slot_selected" from="EquipmentSlots/ArmorSlot" to="." method="_on_equipment_slot_selected"]
[connection signal="slot_selected" from="EquipmentSlots/FootwearSlot" to="." method="_on_equipment_slot_selected"]
[connection signal="slot_selected" from="EquipmentSlots/AmuletSlot" to="." method="_on_equipment_slot_selected"]
[connection signal="item_selected" from="ItemList" to="." method="_on_ItemList_item_selected"]
[connection signal="button_up" from="ItemSelected/EquipButton" to="." method="_on_EquipButton_button_up"]
[connection signal="button_up" from="ItemSelected/ModButton" to="." method="_on_modify_button_up"]
[connection signal="button_up" from="ItemSelected/UnequipButton" to="." method="_on_unequip_button_up"]
[connection signal="button_up" from="WeaponFilter" to="." method="_on_filter_button_up" binds= [ "weapon" ]]
[connection signal="button_up" from="GemFilter" to="." method="_on_filter_button_up" binds= [ "gem" ]]
[connection signal="button_up" from="ModifyPopup/ItemMods/CloseModify" to="." method="_on_CloseModify_button_up"]

[editable path="ItemSelected"]
