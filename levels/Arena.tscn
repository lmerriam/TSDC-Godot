[gd_scene load_steps=9 format=2]

[ext_resource path="res://EnemySpawner.tscn" type="PackedScene" id=1]
[ext_resource path="res://EnemySpawnerMob.gd" type="Script" id=2]
[ext_resource path="res://levels/Arena.gd" type="Script" id=3]
[ext_resource path="res://icon.png" type="Texture" id=4]
[ext_resource path="res://tiles/tsdc-tileset-16-walls.tres" type="TileSet" id=5]
[ext_resource path="res://tiles/tsdc-tileset-16.tres" type="TileSet" id=6]
[ext_resource path="res://enemies/EnemyBat.tscn" type="PackedScene" id=7]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 59.4717, 58.351 )

[node name="Level" type="YSort"]
script = ExtResource( 3 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -100

[node name="Background" type="ColorRect" parent="CanvasLayer"]
show_behind_parent = true
margin_left = -884.0
margin_top = -126.0
margin_right = 2916.0
margin_bottom = 1909.0
mouse_filter = 2
color = Color( 0.894118, 0.823529, 0.666667, 1 )
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": false
}

[node name="Environment" type="TileMap" parent="."]
tile_set = ExtResource( 6 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -2031447, 0, 0, -131043, 3, 65536, -131042, 3, 327681, -131041, 3, 327681, -131040, 3, 327681, -131039, 3, 7, -65524, 3, 1, -65523, 3, 327681, -65522, 3, 327681, -65521, 3, 327681, -65520, 3, 327681, -65519, 3, 327681, -65518, 3, 327681, -65517, 3, 327681, -65516, 3, 327681, -65515, 3, 327681, -65514, 3, 327681, -65513, 3, 327681, -65512, 3, 327681, -65511, 3, 327681, -65510, 3, 327681, -65509, 3, 327681, -65508, 3, 327681, -65507, 3, 327687, -65502, 3, 1, -65501, 3, 327681, -65500, 3, 327681, -65499, 3, 327681, -65498, 3, 7, 1, 3, 1, 2, 3, 327681, 3, 3, 327681, 4, 3, 327681, 5, 3, 327681, 6, 3, 327681, 7, 3, 327681, 8, 3, 327681, 9, 3, 327681, 10, 3, 327681, 11, 3, 7, 39, 3, 1, 40, 3, 327681, 41, 3, 7, 65536, 3, 196615, 65578, 3, 1, 65579, 3, 327681, 65580, 3, 65543, 196607, 3, 65536, 131072, 3, 327687, 131116, 3, 327680, 131117, 3, 65543, 262143, 3, 262151, 196653, 3, 262151, 327679, 3, 262151, 262189, 3, 327680, 262190, 3, 65543, 393215, 3, 262151, 327726, 3, 262151, 458751, 3, 262151, 393262, 3, 262151, 524287, 3, 262151, 458798, 3, 262151, 589823, 3, 262151, 524334, 3, 262151, 655359, 3, 262151, 589870, 3, 262151, 720895, 3, 262151, 655406, 3, 262151, 786431, 3, 131079, 720942, 3, 262151, 786432, 3, 196615, 786478, 3, 262151, 851968, 3, 262151, 852014, 3, 262151, 917504, 3, 262151, 917550, 3, 262151, 983040, 3, 262151, 983086, 3, 262151, 1048576, 3, 262151, 1048622, 3, 262151, 1114112, 3, 262151, 1114158, 3, 262151, 1179648, 3, 131079, 1179694, 3, 262151, 1245185, 3, 196615, 1245229, 3, 65536, 1245230, 3, 327687, 1310721, 3, 262151, 1310764, 3, 65536, 1310765, 3, 327687, 1376257, 3, 262151, 1376299, 3, 65536, 1376300, 3, 327687, 1441793, 3, 327680, 1441794, 3, 65543, 1441834, 3, 65536, 1441835, 3, 327687, 1507330, 3, 131079, 1507368, 3, 65536, 1507369, 3, 327681, 1507370, 3, 327687, 1572867, 3, 196615, 1572902, 3, 65536, 1572903, 3, 327681, 1572904, 3, 327687, 1638403, 3, 327680, 1638404, 3, 327681, 1638405, 3, 65543, 1638437, 3, 1, 1638438, 3, 327687, 1703941, 3, 327680, 1703942, 3, 327681, 1703943, 3, 327681, 1703944, 3, 327681, 1703945, 3, 7, 1703971, 3, 1, 1703972, 3, 7, 1769482, 3, 1, 1769483, 3, 327681, 1769484, 3, 327681, 1769485, 3, 327681, 1769486, 3, 327681, 1769487, 3, 327681, 1769488, 3, 327681, 1769489, 3, 327681, 1769490, 3, 65543, 1769504, 3, 1, 1769505, 3, 327681, 1769506, 3, 7, 1835026, 3, 327680, 1835027, 3, 327681, 1835028, 3, 327681, 1835029, 3, 327681, 1835030, 3, 327681, 1835031, 3, 327681, 1835032, 3, 327681, 1835033, 3, 327681, 1835034, 3, 327681, 1835035, 3, 327681, 1835036, 3, 327681, 1835037, 3, 327681, 1835038, 3, 327681, 1835039, 3, 7 )
__meta__ = {
"_edit_lock_": true
}

[node name="Floors" type="TileMap" parent="."]
tile_set = ExtResource( 5 )
cell_size = Vector2( 16, 16 )
format = 1
__meta__ = {
"_edit_lock_": true
}

[node name="Walls" type="TileMap" parent="."]
tile_set = ExtResource( 5 )
cell_size = Vector2( 16, 16 )
format = 1
__meta__ = {
"_edit_lock_": true
}

[node name="EnemySpawner" parent="." instance=ExtResource( 1 )]
position = Vector2( 90, 70 )

[node name="Position2D2" type="Position2D" parent="EnemySpawner/SpawnerLocationList" index="1"]
position = Vector2( 510, 0 )

[node name="Position2D3" type="Position2D" parent="EnemySpawner/SpawnerLocationList" index="2"]
position = Vector2( 275.172, 308.608 )

[node name="SpawnerMob" parent="EnemySpawner/SpawnerMobList" index="0"]
enemy = ExtResource( 7 )
count = 2

[node name="Waves" type="Node" parent="."]

[node name="Wave" type="Node" parent="Waves"]

[node name="EnemySpawnerMob2" type="Node" parent="Waves/Wave"]
script = ExtResource( 2 )
enemy = ExtResource( 7 )
count = 2

[node name="Wave2" type="Node" parent="Waves"]

[node name="EnemySpawnerMob3" type="Node" parent="Waves/Wave2"]
script = ExtResource( 2 )
enemy = ExtResource( 7 )
count = 2

[node name="EnemySpawnerMob4" type="Node" parent="Waves/Wave2"]
script = ExtResource( 2 )
enemy = ExtResource( 7 )
count = 2

[node name="Wave3" type="Node" parent="Waves"]

[node name="EnemySpawnerMob5" type="Node" parent="Waves/Wave3"]
script = ExtResource( 2 )
enemy = ExtResource( 7 )
count = 2

[node name="EnemySpawnerMob6" type="Node" parent="Waves/Wave3"]
script = ExtResource( 2 )
enemy = ExtResource( 7 )
count = 2

[node name="EnemySpawnerMob7" type="Node" parent="Waves/Wave3"]
script = ExtResource( 2 )
enemy = ExtResource( 7 )
count = 2

[node name="Wave4" type="Node" parent="Waves"]

[node name="EnemySpawnerMob5" type="Node" parent="Waves/Wave4"]
script = ExtResource( 2 )
enemy = ExtResource( 7 )
count = 2

[node name="EnemySpawnerMob6" type="Node" parent="Waves/Wave4"]
script = ExtResource( 2 )
enemy = ExtResource( 7 )
count = 2

[node name="EnemySpawnerMob7" type="Node" parent="Waves/Wave4"]
script = ExtResource( 2 )
enemy = ExtResource( 7 )
count = 2

[node name="EnemySpawnerMob8" type="Node" parent="Waves/Wave4"]
script = ExtResource( 2 )
enemy = ExtResource( 7 )
count = 2

[node name="WaveStartButton" type="Node2D" parent="."]
position = Vector2( 360, 200 )

[node name="Sprite" type="Sprite" parent="WaveStartButton"]
scale = Vector2( 0.188858, 0.188858 )
texture = ExtResource( 4 )

[node name="Area2D" type="Area2D" parent="WaveStartButton/Sprite"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="WaveStartButton/Sprite/Area2D"]
shape = SubResource( 1 )
[connection signal="all_mobs_defeated" from="EnemySpawner" to="." method="_on_wave_completed"]
[connection signal="input_event" from="WaveStartButton/Sprite/Area2D" to="." method="_on_waveStartButton_selected"]

[editable path="EnemySpawner"]
